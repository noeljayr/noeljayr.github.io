<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ROSAF Admin - Blogs</title>

    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/admin.css" />

    <link
      rel="shortcut icon"
      href="public/images/logos/rosaf.png"
      type="image/x-icon"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
      integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->

    <script defer src="setting.js"></script>
  </head>
  <body>
    <div class="content">
      <div class="side-bar">
        <a href="dashboard.html" class="side-link">
          <i class="bi bi-house-fill"></i>
          Dashboard
        </a>

        <a href="blogs.html" class="side-link active-side-link">
          <i class="bi bi-newspaper"></i>
          Blogs
        </a>

        <a href="gallery.html" class="side-link">
          <i class="bi bi-images"></i>
          Gallery
        </a>

        <a href="admins.html" class="side-link">
          <i class="bi bi-people-fill"></i>
          Admins
        </a>
      </div>

      <div class="top-bar">
        <a href="/" class="logo">
          <img src="/public/logos/rosaf.png" alt="RosafLogo" class="logo-gfx" />
          ROSAF
        </a>

        <span class="settings">
          <i class="bi bi-person-fill-gear"></i>
        </span>
      </div>

     
      <div class="dashboard-tools">
        <div class="admin-tool add-blog">
          <span class="icon">
             <i class="bi bi-newspaper"></i>
          </span>
          Add Blog
        </div>
      </div>

      <div class="events">
        <h1>Blogs</h1>
        <div class="blog-wrapper">
          <!-- put the title attribute same as blog title so that when its long
          user will hover on it to show the  full blog -->

          <div class="blog">
            <img src="/public/images/blog.jpg" alt="" class="blog-img" />
            <div class="blog-info">
              <h2 title="7th UN Global Road Safety" class="blog-title">
                7th UN Global Road Safety
              </h2>
              <p class="event-summary">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Natus
                iste similique dolor? Doloribus nam, sequi blanditiis eligendi
                molestiae tempore illo excepturi
              </p>
              <span class="btn-container">
                <a class="cta" href="event-id">Read More</a>
                <span class="edit">Edit</span>
                <span class="delete delete-blog-btn">Delete</span>
              </span>
            </div>
          </div>

          <div class="blog">
            <img src="/public/images/blog-2.jpg" alt="" class="blog-img" />
            <div class="blog-info">
              <h2 title="7th UN Global Road Safety" class="blog-title">
                ROSAF Blog Title 2
              </h2>
              <p class="event-summary">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Natus
                iste similique dolor? Doloribus nam, sequi blanditiis eligendi
                molestiae tempore illo excepturi
              </p>
              <span class="btn-container">
                <a class="cta" href="event-id">Read More</a>
                <span class="edit">Edit</span>
                <span class="delete delete-blog-btn">Delete</span>
              </span>
            </div>
          </div>


          <div class="blog">
            <img src="/public/images/blog-3.jpg" alt="" class="blog-img" />
            <div class="blog-info">
              <h2 title="7th UN Global Road Safety" class="blog-title">
                ROSAF Blog title 3
              </h2>
              <p class="event-summary">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Natus
                iste similique dolor? Doloribus nam, sequi blanditiis eligendi
                molestiae tempore illo excepturi
              </p>
              <span class="btn-container">
                <a class="cta" href="event-id">Read More</a>
                <span class="edit">Edit</span>
                <span class="delete delete-blog-btn">Delete</span>
              </span>
            </div>
          </div>
          
        </div>
      </div>

      <form action="" class="delete-blog">
        <h1>Delete Blog?</h1>
        <div class="btn-container">
          <span class="cta cancel-btn">Cancel</span>
          <span class="confirm-btn">Delete</span>
        </div>
      </form>

      <form class="add-form">
        <h1>Add New Blog</h1>
        <div class="input-box">
          
          <input
          placeholder="Title"
            type="text"
            id="blog-title"
            class="input-1"
            
          />
        </div>

        <div class="input-box">
          
          <textarea
          placeholder="Content"
            name="content"
            type="text"
            class="input-1 txt"
            
          ></textarea>
        </div>

        <div class="updload-image">
          <input type="file" name="" id="image" />
          <label for="image"></label>
        </div>

        <div class="btn-container">
          <span class="discard-btn btn">
            
            Discard
          </span>
          <button class="btn" type="submit">
           
            Add
          </button>
        </div>
      </form>

      <form class="edit-form">
        <h1>Edit Blog</h1>
        <div class="input-box">
          <input
            placeholder="Title"
            name="title"
            type="text"
            id="blog-title"
            class="input-1"
            
          />
        </div>

        <div class="input-box">
          <textarea
            placeholder="Content"
            name="contetnt"
            id="blog-content"
            type="text"
            class="input-1 txt"
            
          ></textarea>
        </div>

        <div class="updload-image">
          <input type="file" name="" id="image" />
          <label for="image"></label>
        </div>

        <div class="btn-container">
          <span class="discard-btn btn">
            
            Discard
          </span>
          <button class="btn" type="submit">
           
            Add
          </button>
        </div>
      </form>

      <div class="discrpt-mordal">
        <p></p>

        <div class="close">Close</div>
      </div>

      <form class="settings-form">
        <h1>Profile Settings</h1>
        <div class="input-group">
          <span class="name">First Name: </span>
          <input readonly value="Noel" type="text" />
          <span class="edit-btn">Edit</span>
        </div>
        <div class="input-group">
          <span class="name">Last Name: </span>
          <input readonly value="Luhanga" type="text" />
          <span class="edit-btn">Edit</span>
        </div>
        <div class="input-group">
          <span class="name">Phone: </span>
          <input readonly value="+265886047774" type="text" />
          <span class="edit-btn">Edit</span>
        </div>
        <div class="input-group">
          <span class="name">Email: </span>
          <input readonly value="noeljayr01@gmail.com" type="text" />
          <span class="edit-btn">Edit</span>
        </div>

        <div class="btn-container">
          <span class="btn discard-edit">Discard</span>
          <button class="btn save-settings" type="submit">Save</button>
        </div>
      </form>
    </div>

    <script>
      const deleteBlog = document.querySelector(".delete-blog")
      const cancelDelete = deleteBlog.querySelector(".cancel-btn")
      const deleteBlogBtns = document.querySelectorAll(".delete-blog-btn")

      deleteBlogBtns.forEach((btn)=>{
        btn.addEventListener("click", ()=>{
          deleteBlog.classList.add("delete-blog-active")
        })
      })
      cancelDelete.addEventListener("click", ()=>{
        deleteBlog.classList.remove("delete-blog-active")
      })

    
      const editBlogBtns = document.querySelectorAll(".blog .edit");
      const editForm = document.querySelector(".edit-form");
      const closeBtn = document.querySelector(".edit-form .discard-btn");

      editBlogBtns.forEach((btn) => {
        btn.addEventListener("click", (event) => {
          var content = btn.parentElement.parentElement.querySelector("p");
          var title =
            btn.parentElement.parentElement.querySelector(".blog-title");
          var imgSrc =
            btn.parentElement.parentElement.parentElement.querySelector(
              "img"
            ).src;

          editForm.querySelector("#blog-title").value =
            title.textContent.trim();

          editForm.querySelector("#blog-content").value =
            content.textContent.trim();

          editForm.classList.add("edit-form-active");
        });
      });

      closeBtn.addEventListener("click", () => {
        editForm.querySelector("#blog-title").value = "";
        editForm.querySelector("#blog-content").value = "";

        editForm.classList.remove("edit-form-active");
      });
      const adminCards = document.querySelectorAll(".admin-card");

      adminCards.forEach((card) => {
        let profilePic = card.querySelector("img");
        if (profilePic == null) {
          card.classList.add("no-profile-img");
        } else {
          card.classList.remove("no-profile-img");
        }
      });

      const addCard = document.querySelector(".add-blog");
      const addForm = document.querySelector(".add-form");
      const discardBtn = document.querySelector(".discard-btn");

      addCard.addEventListener("click", () => {
        addForm.classList.add("add-form-active");
      });

      discardBtn.addEventListener("click", () => {
        addForm.classList.remove("add-form-active");
      });
    </script>
  </body>
</html>
